#summary OBDuino Interface adapter
#labels Phase-Design

= Introduction =

You cannot plug directly the signals from the OBD-II to the Arduino board.
You need a small interface that adapt the signal.

= Details =

==Cable==

To keep compatibility with already existing cable, an OBD-II to DB9F cable is wired like this:

{{{
DB9F			OBD-II
1---------------5  (Signal ground)
2---------------4  (Chassis ground)
3---------------6  (CAN High)
4---------------7  (ISO K line)
5---------------14 (CAN Low)
6---------------10 (J1850 bus-)
7---------------2  (J1850 bus+)
8---------------15 (ISO L Line)
9---------------16 (Battery)
}}}
*Do not plug it into a PC!!! This goes to an interface only!!!*

http://opengauge.org/%7Eobduino/hardware/obd2_cable.jpg

You can make it yourself with an OBD-II plug available at http://www.carplugs.com/ for $5+$3sh. Use at least AWG24 wires especially for Battery and Chassis ground.

Or buy an already made cable at http://www.obd2allinone.com/ for $10+$5sh


==Interface for ISO==

The cable goes into an interface that adapt the ISO signals for the Arduino inputs.
It consists of a small IC ([http://www.freescale.com/webapp/sps/site/prod_summary.jsp?code=MC33290 Freescale MCZ33290EF]), a 510 ohms resistor, a DB9M that will be plugged with the cable mentioned above, and a few wires that connect to the Arduino board.

The MC33290 is a small chip, you can solder some wires on it for better handling.
http://opengauge.org/%7Eobduino/hardware/MC33290.jpg

Schematic is like this:
{{{
                             MC33290
                            +-------+
Arduino pin 2 -------------5|TX  ISO|4-----------------+------- DB9M pin 4 (ISO K Line)
                            |       |                  |
Arduino pin 3 -------------6|RX  GND|3--DB9M pin 1     / between MC pin 4 and pin 1
                            |       |                  \ goes a 510 ohms resistor
Arduino 5V pin output -----7|VDD  NC|2--               /
                            |       |                  |
Arduino 5V pin output -----8|CEN VBB|1-----------------+------- DB9M pin 9 (12V Battery)
                            +-------+
}}}                  
The Arduino is powered by the 12V line coming from the cable too
{{{
Arduino 12V input ------------------ DB9M pin 9 (12V Battery)
Arduino GND input ------------------ DB9M pin 2 (Chassis Ground)
}}}

Interface being built:

http://opengauge.org/%7Eobduino/hardware/iso_interface.jpg